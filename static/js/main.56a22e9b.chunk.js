(this.webpackJsonpstarwars_upd=this.webpackJsonpstarwars_upd||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),s=a.n(r),l=a(4),o=a(8),i=a.n(o),m=a(9),u=a(13),f=a(5),_=c.a.createContext({heroes:[],setHeroes:function(){},favHeroes:[],setFavHeroes:function(){},selectedHero:{},setSelectedHero:function(){}}),p=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(f.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)([]),p=Object(f.a)(o,2),v=p[0],d=p[1],E=Object(n.useState)({}),b=Object(f.a)(E,2),h=b[0],N=b[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t,a,n,c,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=1;case 2:if(!(a<=9)){e.next=22;break}return e.prev=3,e.next=6,fetch("https://swapi.dev/api/people/?page=".concat(a));case 6:return n=e.sent,e.next=9,n.json();case 9:return c=e.sent,e.next=12,c.results;case 12:r=e.sent,t.push(r),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.error("Error in ASYNC/AWAIT: ",e.t0);case 19:a++,e.next=2;break;case 22:s=t.reduce((function(e,t){return[].concat(Object(m.a)(e),Object(m.a)(t))}),[]),l(s),localStorage.setItem("Heroes",JSON.stringify(s));case 25:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}localStorage.setItem("Heroes",JSON.stringify(null));var t=JSON.parse(localStorage.getItem("Heroes"));t?l(t):function(){e.apply(this,arguments)}();var a=JSON.parse(localStorage.getItem("Favoriteheroes"));null!==a&&d(a)}),[]);var g={heroes:s,setHeroes:l,favHeroes:v,setFavHeroes:d,selectedHero:h,setSelectedHero:N};return c.a.createElement(_.Provider,{value:g},t)},v=a(1);function d(){return c.a.createElement("header",{className:"header"},c.a.createElement("img",{className:"header__logo",src:"https://i.pinimg.com/236x/df/24/be/df24beb816bd241cd9e944e2b336996f.jpg",alt:"starwars logo"}),c.a.createElement("nav",{className:"nav"},c.a.createElement(l.b,{to:"/favorites",className:"nav__link"},"Favorites"),c.a.createElement(l.b,{to:"/",className:"nav__link"},"Home")))}var E=function(){var e=Object(n.useContext)(_),t=e.heroes,a=e.favHeroes,r=e.setFavHeroes,s=e.setSelectedHero,o=Object(n.useState)(""),i=Object(f.a)(o,2),u=i[0],p=i[1],v=Object(n.useState)([]),d=Object(f.a)(v,2),E=d[0],b=d[1];return Object(n.useEffect)((function(){b(t.filter((function(e){return!u||!!e.name.toLowerCase().includes(u.toLowerCase().trim())})))}),[t,u]),0===t.length?c.a.createElement("div",{className:"list"},c.a.createElement("h2",{className:"list__item"},"Loading...")):c.a.createElement(c.a.Fragment,null,c.a.createElement("main",{className:"main"},c.a.createElement("ul",{className:"list"},E.length?E.map((function(e){return c.a.createElement("li",{key:e.url,className:"list__item"},c.a.createElement(l.b,{className:"list__link",key:e.name,to:"/home/info",onClick:function(){return s(e)}},e.name),a.find((function(t){return t.name===e.name}))?c.a.createElement("button",{className:" button list__button",type:"button",onClick:function(){r((function(t){return t.filter((function(t){return t.name!==e.name}))}),localStorage.setItem("Favoriteheroes",JSON.stringify(a)))}},"remove fav"):c.a.createElement("button",{className:" button list__button",type:"button",onClick:function(){r((function(t){return[].concat(Object(m.a)(t),[e])})),localStorage.setItem("Favoriteheroes",JSON.stringify(a))}},"add fav"))})):c.a.createElement("div",{className:"not-found"},c.a.createElement("h1",{className:"not-found__title"}," Nothing is found"),c.a.createElement("img",{className:"not-found__image",src:"https://i.pinimg.com/236x/5d/66/ec/5d66ec2b6592965f95407ff7bbaa39e5.jpg",alt:"baby yoda"})))),c.a.createElement("div",{className:"app__sidebar"},c.a.createElement("input",{className:"input list__input",type:"text",placeholder:"hero name",value:u,onChange:function(e){p(e.target.value)}})))},b=function(){var e=Object(n.useContext)(_),t=e.favHeroes,a=e.setSelectedHero,r=e.setFavHeroes;return 0===t.length?c.a.createElement("div",{className:"list"},c.a.createElement("h2",{className:"list__item"},"Loading...")):c.a.createElement(c.a.Fragment,null,c.a.createElement("main",{className:"main"},c.a.createElement("ul",{className:"list"},t.map((function(e){return c.a.createElement("li",{key:e.url,className:"list__item"},c.a.createElement(l.b,{className:"list__link",key:e.name,to:"/home/info",onClick:function(){return a(e)}},e.name),t.find((function(t){return t.name===e.name}))?c.a.createElement("button",{className:" button list__button",type:"button",onClick:function(){localStorage.setItem("Favoriteheroes",JSON.stringify(t)),r((function(t){return t.filter((function(t){return t.name!==e.name}))}))}},"remove fav"):c.a.createElement("button",{className:" button list__button",type:"button",onClick:function(){localStorage.setItem("Favoriteheroes",JSON.stringify(t)),r((function(t){return[].concat(Object(m.a)(t),[e])}))}},"add fav"))})))),c.a.createElement("div",{className:"app__sidebar"},c.a.createElement("h1",{className:"app__sidebar-title"},"May the force be with you")))},h=a(22),N=function(e){var t=e.urls,a=Object(n.useState)([]),r=Object(f.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)(!0),m=Object(f.a)(o,2),_=m[0],p=m[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(t){var a,n,c,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],e.prev=1,void 0===t){e.next=25;break}n=Object(h.a)(t),e.prev=4,n.s();case 6:if((c=n.n()).done){e.next=17;break}return r=c.value,e.next=10,fetch(r);case 10:return s=e.sent,e.next=13,s.json();case 13:o=e.sent,a.push(o);case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),n.e(e.t0);case 22:return e.prev=22,n.f(),e.finish(22);case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(1),console.error(e.t1);case 30:l(a),p(!1);case 32:case"end":return e.stop()}}),e,null,[[1,27],[4,19,22,25]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t)}),[t]),_?c.a.createElement("h1",null,"Loading...."):c.a.createElement("div",{className:"info__section"},s.map((function(e){return c.a.createElement("div",{className:"info__wrap"},c.a.createElement("div",{className:"info__title",key:e.title},c.a.createElement("h1",null,'"',e.title,'"')),c.a.createElement("div",{className:"info__item"},"Release date: ".concat(e.release_date)))})))},g=function(e){var t=e.planetUrl,a=Object(n.useState)({}),r=Object(f.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)(!0),m=Object(f.a)(o,2),_=m[0],p=m[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===t){e.next=10;break}return e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,l(n),p(!1);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t)}),[t]),_?c.a.createElement("h1",null," Loading ...."):c.a.createElement("div",{className:"info__section"},c.a.createElement("div",{className:"info__wrap"},c.a.createElement("h1",{className:"info__title"},"Home world: ".concat(s.name)),c.a.createElement("div",{className:"info__item"},"Population: ".concat(s.population)),c.a.createElement("div",{className:"info__item"},"Climate: ".concat(s.climate))))},O=function(){var e=Object(n.useContext)(_).selectedHero;if(void 0===e)return c.a.createElement("h1",null,"Loading");var t=function(e){if(e){var t=e.split("/");return t[t.length-2]}return 0}(e.url);return c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"info__section box"},c.a.createElement("img",{className:"info__image",src:"https://starwars-visualguide.com/assets/img/characters/".concat(t,".jpg"),alt:e.name}),c.a.createElement("h1",{className:"info__title"},e.name),c.a.createElement("div",{className:"info__item"},"Height:  ".concat(e.height)),c.a.createElement("div",{className:"info__item"},"Mass:  ".concat(e.mass)),c.a.createElement("div",{className:"info__item"},"Hair color:  ".concat(e.hair_color)),c.a.createElement("div",{className:"info__item"},"Skin color:  ".concat(e.skin_color)),c.a.createElement("div",{className:"info__item"},"Eye color:  ".concat(e.eye_color)),c.a.createElement("div",{className:"info__item"},"Birth year:  ".concat(e.birth_year)),c.a.createElement("div",{className:"info__item"},"Cender:  ".concat(e.gender))),c.a.createElement("div",{className:"info__section"},c.a.createElement("div",{className:"info__tabs"},c.a.createElement(l.b,{to:"/home/info/",className:"info__tab"},"Films"),c.a.createElement(l.b,{to:"/home/info/planet",className:"info__tab"},"Planet")),c.a.createElement("div",null,c.a.createElement(v.Switch,null,c.a.createElement(v.Route,{path:"/home/info/planet"},c.a.createElement("div",{className:"info__details"},c.a.createElement(g,{planetUrl:e.homeworld}))),c.a.createElement(v.Route,{path:"/home/info/",exact:!0},c.a.createElement("div",{className:"info__details"},c.a.createElement(N,{urls:e.films})))))))},j=(a(35),a(23)),S=function(){return c.a.createElement(p,null,c.a.createElement("div",{className:"app"},c.a.createElement(d,null),c.a.createElement("div",{className:"app__content"},c.a.createElement(v.Switch,null,c.a.createElement(v.Route,{path:"/favorites"},c.a.createElement(b,null)),c.a.createElement(v.Route,{path:"/home/info"},c.a.createElement(O,null)),c.a.createElement(v.Route,{path:"/",exact:!0},c.a.createElement(E,null)),c.a.createElement(j.Redirect,{to:"/"})))))};s.a.render(c.a.createElement(l.a,null,c.a.createElement(S,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.56a22e9b.chunk.js.map